<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <script type="text/javascript">
            window.onload=function() {

                party1Obj = document.getElementById('txtParty1');
                party2Obj = document.getElementById('txtParty2');
                loss1Obj = document.getElementById('tdLoss1');
                loss2Obj = document.getElementById('tdLoss2');

                document.getElementById('btnRun').onclick = calcRun;
                document.getElementById('btnReset').onclick = resetInputs;
            }
            function resetInputs() {
                party1Obj.value = '';
                party2Obj.value = '';
                loss1Obj.innerHTML = '';
                loss2Obj.innerHTML = '';
            }

            function calcRun() {
                var p1 = new Number(party1Obj.value);
                var p2 = new Number(party2Obj.value);
                var new1, new2;
                var loss1, loss2;
                loss1Obj.innerHTML = '';
                loss2Obj.innerHTML = '';
                if(isNaN(p1) || isNaN(p2)) {
                    alert('Invalid Party 1 or Party 2 : Must be numbers!');
                    return;
                }
                loss1 = rollManyDice(p2);
                loss2 = rollManyDice(p1);
                new1 = p1 - loss1;
                new2 = p2 - loss2;
                party1Obj.value = new1;
                party2Obj.value = new2;
                loss1Obj.innerHTML = "Lost:" + loss1;
                loss2Obj.innerHTML = "Lost:" + loss2;
            }
            function rollManyDice(count){
                var min = 1;
                var max = 12;
                var random = 0;
                var result = 0;
                for(i=0;i<count;i++){
                    random = Math.floor(Math.random() * (+max - +min)) + +min;
                    if(random > 8){
                        result++;
                    }
                }
                return result;
            }
             
        </script>
    </head>
    <body>
        <table>
            <tr><td><label for="txtParty1">Party 1</label></td></tr>
            <tr>
                <td><input type="text" id="txtParty1" /></td>
                <td id="tdLoss1"></td>
            </tr>
            <tr><td><label for="txtParty2">Party 2</label></td></tr>
            <tr>
                <td><input type="text" id="txtParty2" /></td>
                <td id="tdLoss2"></td>
            </tr>
            <tr>
                <td></td>
                <td><button id="btnReset">Reset</button><button id="btnRun">Run1</button></td>
            </tr>
        </table>
    </body>
</html>